REACT_APP_API_URL=https://coral-app-twb8l.ondigitalocean.app
# REACT_APP_API_URL=http://travelbookblog.com/api


@Configuration @EnableWebSecurity public class WebSecurityConfig { private final CustomUserDetailsService userDetailsService; private final JwtRequestFilter jwtRequestFilter; public WebSecurityConfig(CustomUserDetailsService userDetailsService, JwtRequestFilter jwtRequestFilter) { this.userDetailsService = userDetailsService; this.jwtRequestFilter = jwtRequestFilter; } @Bean public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception { http .csrf(AbstractHttpConfigurer::disable) .authorizeHttpRequests(auth -> auth .requestMatchers("/auth/", "/swagger-ui/", "/v3/api-docs/**").permitAll() // Проверьте пути .anyRequest().authenticated() ) .sessionManagement(session -> session .sessionCreationPolicy(SessionCreationPolicy.STATELESS) ) .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class); return http.build(); }